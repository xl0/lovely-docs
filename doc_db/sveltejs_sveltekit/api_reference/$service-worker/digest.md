## Overview

The `$service-worker` module is only available to service workers and provides access to build and deployment metadata.

## Exports

### base
```js
const base: string;
```
The base path of the deployment, calculated from `location.pathname`. Equivalent to `config.kit.paths.base` but continues working correctly if deployed to a subdirectory. Note: `assets` is not available since service workers cannot be used with `config.kit.paths.assets`.

### build
```js
const build: string[];
```
Array of URL strings for files generated by Vite, suitable for caching with `cache.addAll(build)`. Empty during development.

### files
```js
const files: string[];
```
Array of URL strings for files in the static directory (or `config.kit.files.assets`). Customizable via `config.kit.serviceWorker.files`.

### prerendered
```js
const prerendered: string[];
```
Array of pathnames for prerendered pages and endpoints. Empty during development.

### version
```js
const version: string;
```
From `config.kit.version`. Useful for generating unique cache names so later deployments can invalidate old caches.

## Usage Example
```js
import { base, build, files, prerendered, version } from '$service-worker';

self.addEventListener('install', (event) => {
  event.waitUntil(
    caches.open(`cache-${version}`).then((cache) => {
      cache.addAll([...build, ...files, ...prerendered]);
    })
  );
});
```