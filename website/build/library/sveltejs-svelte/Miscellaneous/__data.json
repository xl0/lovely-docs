{"type":"data","nodes":[{"type":"data","data":[null],"uses":{}},{"type":"data","data":[{"libraryName":1,"itemPath":2,"docItem":3},"sveltejs-svelte","Miscellaneous",{"type":4,"path":5,"relevant":6,"token_counts":7,"usage":11,"markdown":15},"directory","07-misc",true,{"fulltext":8,"digest":9,"short_digest":10},1706,1135,319,{"input":12,"output":13,"details":14},2816,1571,null,{"fulltext":16,"digest":17,"short_digest":18,"essence":19},"\n\n## Pages\n\n### testing\nGuide to testing Svelte applications using Vitest for unit/integration tests, component testing with mount API or testing-library, and Playwright for E2E tests.\n\n## Unit/Integration Testing with Vitest\n\nConfigure `vite.config.js` to use browser entry points. Test files with `.svelte` in the name can use runes. Wrap effect tests in `$effect.root()` and use `flushSync()` for synchronous execution.\n\n```js\ntest('Multiplier', () => {\n\tlet double = multiplier(0, 2);\n\texpect(double.value).toEqual(0);\n});\n```\n\n## Component Testing\n\nUse `mount()` API or `@testing-library/svelte` for higher-level testing:\n\n```js\nconst component = mount(Component, { target: document.body, props: { initial: 0 } });\n```\n\n## E2E Testing with Playwright\n\nConfigure `playwright.config.js` with webServer settings and write tests that interact with the DOM:\n\n```js\ntest('home page has expected h1', async ({ page }) => {\n\tawait page.goto('/');\n\tawait expect(page.locator('h1')).toBeVisible();\n});\n```\n\n### typescript\nUsing TypeScript in Svelte components with type annotations, preprocessor setup, prop/state typing, generics, and DOM type augmentation.\n\n## TypeScript in Svelte\n\nAdd `lang=\"ts\"` to script tags for type-only features. For full TypeScript support, configure `vitePreprocess` in `svelte.config.js`.\n\nSet `tsconfig.json`: `target: ES2015`, `verbatimModuleSyntax: true`, `isolatedModules: true`.\n\n## Typing Props and State\n\n```svelte\n\u003Cscript lang=\"ts\" generics=\"Item extends { text: string }\">\n\tinterface Props {\n\t\titems: Item[];\n\t\tselect(item: Item): void;\n\t}\n\tlet { items, select }: Props = $props();\n\tlet count: number = $state(0);\n\u003C/script>\n```\n\n## Component Types\n\n```ts\nimport type { Component, ComponentProps } from 'svelte';\ninterface Props {\n\tDynamicComponent: Component\u003C{ prop: string }>;\n}\n```\n\n## Enhancing DOM Types\n\nExtend custom attributes/events in a `.d.ts` file:\n\n```ts\ndeclare namespace svelteHTML {\n\tinterface IntrinsicElements {\n\t\t'my-custom-element': { someattribute: string; 'on:event': (e: CustomEvent) => void };\n\t}\n}\n```\n\n### custom-elements\nHow to compile Svelte components to web components and configure their behavior, properties, and lifecycle.\n\n## Custom Elements\n\nCompile Svelte components to web components with `customElement: true` and `\u003Csvelte:options customElement=\"tag-name\" />`. Props are exposed as DOM properties and attributes.\n\nAdvanced configuration via object in `\u003Csvelte:options>`:\n- `tag` - Auto-register with this tag name\n- `shadow: \"none\"` - Disable shadow DOM\n- `props` - Configure per-property: `attribute`, `reflect`, `type`\n- `extend` - Function to extend the custom element class\n\n```svelte\n\u003Csvelte:options customElement={{ tag: 'my-element', props: { name: { reflect: true } } }} />\n```\n\nKey limitations: styles are encapsulated, not SSR-friendly, slotted content renders eagerly, context doesn't cross custom element boundaries, avoid property names starting with `on`.\n\n### svelte-4-migration-guide\nBreaking changes and migration steps for upgrading from Svelte 3 to Svelte 4, including version requirements, type strictness improvements, and API changes.\n\n## Key Changes\n- **Minimum versions**: Node 16+, TypeScript 5+, SvelteKit 1.20.4+, webpack 5+\n- **Browser condition**: Bundlers must specify `browser` condition (automatic in SvelteKit/Vite)\n- **No CJS**: CommonJS output and `svelte/register` removed\n- **Stricter types**: `createEventDispatcher`, `Action`, `ActionReturn`, `onMount` have stricter typing\n- **Custom elements**: `tag` option → `customElement` option\n- **SvelteComponentTyped**: Deprecated, use `SvelteComponent` instead\n- **Transitions**: Local by default; use `|global` modifier for old behavior\n- **Slot bindings**: Default slot bindings no longer exposed to named slots\n- **Preprocessors**: Execute in order (markup, script, style per preprocessor); each must have a name\n- **ESLint**: Switch from `eslint-plugin-svelte3` to `eslint-plugin-svelte`\n- **Other**: `inert` on outroing elements, `classList.toggle()` and `CustomEvent` used (may need polyfills), `svelte.JSX` → `svelteHTML`\n\n### svelte-5-migration-guide\nSvelte 5 replaces implicit reactivity with explicit runes ($state, $derived, $effect), changes event handling from directives to properties with callback props, replaces slots with snippets, converts components from classes to functions, and enforces stricter syntax and HTML structure.\n\n## Key Changes\n\n**Reactivity**: `let` → `$state`, `$:` → `$derived`/`$effect`, `export let` → `$props()`\n\n**Events**: `on:click` → `onclick`, `createEventDispatcher` → callback props, event modifiers removed\n\n**Slots**: `\u003Cslot />` → `children` prop with `{@render}`, named slots → props, `let:` → snippets\n\n**Components**: Functions not classes; use `mount(App, {target})` instead of `new App({target})`\n\n**Runes mode breaking changes**: No export bindings, `$bindable()` required for two-way binding, `accessors`/`immutable` ignored, stricter HTML/attributes\n\n**Other**: Modern browsers only, whitespace simplified, `null`/`undefined` → empty string, form resets trigger bindings\n\n### frequently-asked-questions\nCommon questions about getting started with Svelte, finding support, tooling, testing, routing, mobile development, and styling practices.\n\n**Getting Started**: Interactive tutorial takes 5-10 minutes to run, 1.5 hours complete\n\n**Support**: Reference docs, Stack Overflow (tag: svelte), Discord, Reddit\n\n**Tooling**: Official VS Code extension, prettier-plugin-svelte for formatting\n\n**Component Docs**: Use `@component` tag in HTML comments for Language Server support\n\n**Testing**: Unit (Vitest), Component (jsdom/Playwright/Cypress), E2E (Playwright)\n\n**Routing**: Official SvelteKit or alternatives like page.js, navaid, svelte-spa-router, Routify\n\n**Mobile**: SvelteKit SPA → Tauri or Capacitor; Svelte Native for Svelte 4 only\n\n**Styling**: Svelte removes unused styles; use `:global(...)` for global styles\n\n**HMR**: Use SvelteKit (built on Vite) or community plugins for rollup/webpack\n\n","## Testing\n\n**Vitest**: Configure `vite.config.js` for browser entry points. Wrap effect tests in `$effect.root()` and use `flushSync()` for synchronous execution.\n\n```js\ntest('Multiplier', () => {\n\tlet double = multiplier(0, 2);\n\texpect(double.value).toEqual(0);\n});\n```\n\n**Component Testing**: Use `mount()` API or `@testing-library/svelte`.\n\n```js\nconst component = mount(Component, { target: document.body, props: { initial: 0 } });\n```\n\n**Playwright E2E**: Configure `playwright.config.js` with webServer settings.\n\n```js\ntest('home page has expected h1', async ({ page }) => {\n\tawait page.goto('/');\n\tawait expect(page.locator('h1')).toBeVisible();\n});\n```\n\n## TypeScript\n\nAdd `lang=\"ts\"` to script tags. Configure `vitePreprocess` in `svelte.config.js`. Set `tsconfig.json`: `target: ES2015`, `verbatimModuleSyntax: true`, `isolatedModules: true`.\n\n```svelte\n\u003Cscript lang=\"ts\" generics=\"Item extends { text: string }\">\n\tinterface Props {\n\t\titems: Item[];\n\t\tselect(item: Item): void;\n\t}\n\tlet { items, select }: Props = $props();\n\tlet count: number = $state(0);\n\u003C/script>\n```\n\nExtend DOM types in `.d.ts`:\n\n```ts\ndeclare namespace svelteHTML {\n\tinterface IntrinsicElements {\n\t\t'my-custom-element': { someattribute: string; 'on:event': (e: CustomEvent) => void };\n\t}\n}\n```\n\n## Custom Elements\n\nCompile to web components with `customElement: true` and `\u003Csvelte:options customElement=\"tag-name\" />`. Props exposed as DOM properties and attributes.\n\n```svelte\n\u003Csvelte:options customElement={{ tag: 'my-element', props: { name: { reflect: true } } }} />\n```\n\nConfiguration: `tag`, `shadow: \"none\"`, `props` (per-property: `attribute`, `reflect`, `type`), `extend` (function to extend class).\n\nLimitations: styles encapsulated, not SSR-friendly, slotted content renders eagerly, context doesn't cross boundaries, avoid property names starting with `on`.\n\n## Svelte 4 Migration\n\n**Minimum versions**: Node 16+, TypeScript 5+, SvelteKit 1.20.4+, webpack 5+\n\n**Breaking changes**:\n- Bundlers must specify `browser` condition\n- No CommonJS output or `svelte/register`\n- Stricter types: `createEventDispatcher`, `Action`, `ActionReturn`, `onMount`\n- `tag` option → `customElement` option\n- `SvelteComponentTyped` → `SvelteComponent`\n- Transitions local by default; use `|global` modifier\n- Slot bindings not exposed to named slots\n- Preprocessors execute in order with required names\n- `svelte.JSX` → `svelteHTML`\n- ESLint: `eslint-plugin-svelte3` → `eslint-plugin-svelte`\n\n## Svelte 5 Migration\n\n**Reactivity**: `let` → `$state`, `$:` → `$derived`/`$effect`, `export let` → `$props()`\n\n**Events**: `on:click` → `onclick`, `createEventDispatcher` → callback props\n\n**Slots**: `\u003Cslot />` → `children` prop with `{@render}`, named slots → props, `let:` → snippets\n\n**Components**: Functions not classes; use `mount(App, {target})` instead of `new App({target})`\n\n**Runes mode**: No export bindings, `$bindable()` required for two-way binding, `accessors`/`immutable` ignored, stricter HTML/attributes\n\n**Other**: Modern browsers only, whitespace simplified, `null`/`undefined` → empty string, form resets trigger bindings\n\n## FAQ\n\n**Support**: Reference docs, Stack Overflow (tag: svelte), Discord, Reddit\n\n**Tooling**: Official VS Code extension, prettier-plugin-svelte\n\n**Routing**: SvelteKit (official) or page.js, navaid, svelte-spa-router, Routify\n\n**Mobile**: SvelteKit SPA → Tauri or Capacitor; Svelte Native for Svelte 4 only\n\n**Styling**: Svelte removes unused styles; use `:global(...)` for global styles\n\n**HMR**: SvelteKit (built on Vite) or community plugins for rollup/webpack","## Testing\nVitest with `$effect.root()` and `flushSync()`, `mount()` API for components, Playwright for E2E.\n\n## TypeScript\nAdd `lang=\"ts\"`, configure `vitePreprocess`. Type props with `$props()`, state with `$state()`. Extend DOM types via `svelteHTML` namespace.\n\n## Custom Elements\nCompile with `customElement: true`. Configure via `\u003Csvelte:options customElement={{ tag, props, shadow, extend }} />`. Styles encapsulated, context doesn't cross boundaries.\n\n## Svelte 4 Migration\nNode 16+, TypeScript 5+. Bundlers must specify `browser` condition. No CommonJS. Stricter types. Transitions local by default. ESLint: `eslint-plugin-svelte3` → `eslint-plugin-svelte`.\n\n## Svelte 5 Migration\n`let` → `$state`, `$:` → `$derived`/`$effect`, `export let` → `$props()`. Events: `on:click` → `onclick`. Slots → snippets. Components are functions. Modern browsers only.\n\n## FAQ\nSupport via docs, Stack Overflow, Discord. Routing: SvelteKit or alternatives. Mobile: Tauri/Capacitor. Use `:global(...)` for global styles.","Testing, TypeScript integration, custom elements, and migration guides for Svelte 4 and 5 with common questions answered."],"uses":{"params":["name","path"]}}]}
