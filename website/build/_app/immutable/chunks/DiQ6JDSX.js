import{a8 as A,a9 as w,T as m,J as x,K as R,G as T,h as S,l as L,Q as M,aa as B,E as N,i as F,X as Y,ab as k,F as U,U as C,q as K,a2 as y,ac as j,ad as q,ae as G,g,af as $,d as z,ag as H,ah as J,ai as Q,j as X,aj as Z,ak as V,y as W,D as ee,al as te,am as se,an as re,S as ae,ao as ie}from"./exV2Xogs.js";class ne{anchor;#t=new Map;#s=new Map;#e=new Map;#r=!0;constructor(e,r=!0){this.anchor=e,this.#r=r}#a=()=>{var e=A;if(this.#t.has(e)){var r=this.#t.get(e),s=this.#s.get(r);if(s)w(s);else{var n=this.#e.get(r);n&&(this.#s.set(r,n.effect),this.#e.delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),s=n.effect)}for(const[f,i]of this.#t){if(this.#t.delete(f),f===e)break;const a=this.#e.get(i);a&&(m(a.effect),this.#e.delete(i))}for(const[f,i]of this.#s){if(f===r)continue;const a=()=>{if(Array.from(this.#t.values()).includes(f)){var d=document.createDocumentFragment();M(i,d),d.append(R()),this.#e.set(f,{effect:i,fragment:d})}else m(i);this.#s.delete(f)};this.#r||!s?x(i,a,!1):a()}}};#i=e=>{this.#t.delete(e);const r=Array.from(this.#t.values());for(const[s,n]of this.#e)r.includes(s)||(m(n.effect),this.#e.delete(s))};ensure(e,r){var s=A,n=B();if(r&&!this.#s.has(e)&&!this.#e.has(e))if(n){var f=document.createDocumentFragment(),i=R();f.append(i),this.#e.set(e,{effect:T(()=>r(i)),fragment:f})}else this.#s.set(e,T(()=>r(this.anchor)));if(this.#t.set(s,e),n){for(const[a,c]of this.#s)a===e?s.skipped_effects.delete(c):s.skipped_effects.add(c);for(const[a,c]of this.#e)a===e?s.skipped_effects.delete(c.effect):s.skipped_effects.add(c.effect);s.oncommit(this.#a),s.ondiscard(this.#i)}else S&&(this.anchor=L),this.#a()}}function de(t,e,r=!1){S&&F();var s=new ne(t),n=r?Y:0;function f(i,a){if(S){const d=k(t)===U;if(i===d){var c=C();K(c),s.anchor=c,y(!1),s.ensure(i,a),y(!0);return}}s.ensure(i,a)}N(()=>{var i=!1;e((a,c=!0)=>{i=!0,f(c,a)}),i||f(!1,null)},n)}let p=!1;function fe(t){var e=p;try{return p=!1,[t(),p]}finally{p=e}}const ce={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function oe(t,e,r){return new Proxy({props:t,exclude:e},ce)}function le(t,e,r,s){var n=!ee||(r&te)!==0,f=(r&V)!==0,i=(r&re)!==0,a=s,c=!0,d=()=>(c&&(c=!1,a=i?W(s):s),a),l;if(f){var I=ae in t||ie in t;l=j(t,e)?.set??(I&&e in t?u=>t[e]=u:void 0)}var _,P=!1;f?[_,P]=fe(()=>t[e]):_=t[e],_===void 0&&s!==void 0&&(_=d(),l&&(n&&q(),l(_)));var o;if(n?o=()=>{var u=t[e];return u===void 0?d():(c=!0,u)}:o=()=>{var u=t[e];return u!==void 0&&(a=void 0),u===void 0?a:u},n&&(r&G)===0)return o;if(l){var D=t.$$legacy;return(function(u,v){return arguments.length>0?((!n||!v||D||P)&&l(v?o():u),u):o()})}var b=!1,h=((r&se)!==0?$:z)(()=>(b=!1,o()));f&&g(h);var O=X;return(function(u,v){if(arguments.length>0){const E=v?g(h):n&&f?H(u):u;return J(h,E),b=!0,a!==void 0&&(a=E),u}return Q&&b||(O.f&Z)!==0?h.v:g(h)})}export{ne as B,de as i,le as p,oe as r};
